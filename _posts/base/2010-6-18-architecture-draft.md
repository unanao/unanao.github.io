# 架构设计

架构设计的关键思维时判断和取舍，程序设计的关键思维时逻辑和实现。

# 大型网站演化

大型网站都是从小型网站发展而来。网站的价值在于它能为用户提供什么价值，在于网站能做什么，而不在于他是怎么做的。

大型网站架构技术的核心不是从无到有搭建一个大型网站，而是能够伴随小型网站业务逐渐发展，慢慢的演化成一个大型网站。

创新的业务发展模式对网站架构逐步提出更高要求，才使得创新的网站架构得以发展成熟。是业务成就了技术，事业成就了人，而不是相反。

大公司的经验和成功模式固然重要，值得学习借鉴，但如果因此而变得盲从，就失去了坚持自我的勇气，在架构演化的道路上迟早会迷路。脱离网站业务发展的实际，一味的只求时髦的技术，可能会将网站技术发展引入崎岖的小道，架构之路越走越难。

# 大型网站架构模式

## 缓存

使用缓存有两个前提条件:

- 一是数据访问热点不均衡，某些数据会被更频繁的访问。
- 而是数据在某个时间段内优先，不会很快过期。

## 冗余

要想保证在服务器宕机的情况下网站依然可以继续服务，不丢失数据，就需要一定程度的服务器冗余运行，数据冗余备份，这样当某台服务器当即使，可以将其上的服务和数据服务转移到其他机器上。

访问和负载很小的服务也不需部署至少两台服务器构成一个集群，其目的就是通过冗余实现服务高可用。

好的设计绝对不是模仿，不是生搬硬套某个模式，而是对问题深刻理解之上的创造与创新。

# 大型网站架构要素

