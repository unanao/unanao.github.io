# JVM基础
Java程序员把内存控制的权力交给了Java虚拟机，一旦出现内存泄漏和溢出方面的问题，如果不了解虚拟机是怎样使用内存的，那么排查错误将会成为一项异常艰难的工作。

## jvm 内存
![memory](/img/post/java/jvm/memory.png)

- 程序计数器是一块很小的内存空间，可以看作是当前线程所执行的字节码行号指示器。为了线程切换后能恢复到正确的执行位置，PC是线程私有的。

- Java虚拟机栈，线程私有，虚拟机栈描述的是Java方法执行的内存模型，每个方法在执行的同时都会创建一个栈帧（栈帧表示程序的函数调用记录，栈上保持了N个栈帧的实体，栈帧不仅保存诸如：函数入参、出参、返回地址和上一个栈帧的栈底指针等信息，还保存了函数内部的自动变量）。每一个方法从调用直至执行完成就对应着一个栈帧在虚拟机战中的入栈到出栈的过程。

- 本地方法栈：为虚拟机使用到的Native方法服务。hotspot直接将本地方法和虚拟机栈合二为一。

- Java堆：存放对象实例和数组。
- 方法区：存储已被虚拟机加载的类信息，常量，静态变量，及时编译器编译后的代码等数据。 还有运行时常量池——存放编译器生成的各种字面量和符号引用。


# 案例
## 感觉发生了内存泄漏

隔一段时间通过docker stat查看容器状态，发现export-distro的内存不断增长。 

1. 启动了telegraph长时间观察内存情况。
2. 开启GC日志。

# 术语说明

- [1]栈帧：  。
